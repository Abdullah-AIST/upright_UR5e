# all times are in (an integer value of) milliseconds
timestep: 1
duration: 6000
gravity: [0, 0, -9.81]
arrangement: tall

robot:
  home:
    base: [0, 0, 0]
    arm: [0.0, -0.75pi, -0.5pi, -0.25pi, -0.5pi, 0.5pi]  # upright
    # arm: [0.0, -0.75pi, -0.5pi, -0.75pi, -0.5pi, 0.5pi]  # standard
  noise:
    measurement:
      q_std_dev: 0
      v_std_dev: 0
    process:
      v_std_dev: 0
  joint_names:
    - "x_to_world_joint"
    - "y_to_x_joint"
    - "base_to_y_joint"
    - "ur10_arm_shoulder_pan_joint"
    - "ur10_arm_shoulder_lift_joint"
    - "ur10_arm_elbow_joint"
    - "ur10_arm_wrist_1_joint"
    - "ur10_arm_wrist_2_joint"
    - "ur10_arm_wrist_3_joint"
  tool_joint_name: "tool0_tcp_fixed_joint"

video:
  save_frames: true
  dir: "/media/adam/Data/PhD/Videos/tray-balance/"
  timestep: 40
  views:
    -
      camera: pose_to_pose1
      name: view1

static_obstacles:
  enabled: false

dynamic_obstacles:
  enabled: false

urdf:
  robot:
    package: "tray_balance_assets"
    path: "urdf/mm_pyb.urdf"
  robot_obstacles:
    package: "tray_balance_assets"
    path: "urdf/mm_pyb_static_obs.urdf"
  obstacles:
    package: "tray_balance_assets"
    path: "urdf/obstacles.urdf"

# arrangements reference the objects below
arrangements:
  one:
    -
      name: "cylinder_stack_base"
  two:
    -
      name: "cylinder_stack_base"
    -
      name: "cuboid1_stack"
      parent: "cylinder_stack_base"
      offset:
        x: 0
        y: 0
  cups_flat:
    -
      name: tray
      type: tray
    -
      name: cup1
      type: cup
      parent: tray
      offset:
        r: 0.08
        θ: 0
    -
      name: cup2
      type: cup
      parent: tray
      offset:
        r: 0.08
        θ: 0.667pi
    -
      name: cup3
      type: cup
      parent: tray
      offset:
        r: 0.08
        θ: 1.333pi
  cups_stack:
    -
      name: tray
      type: tray
    -
      name: cup1
      type: cup
      parent: tray
    -
      name: cup2
      type: cup
      parent: cup1
    -
      name: cup3
      type: cup_heavy
      parent: cup2
  one_box:
    -
      name: tray
      type: tray
    -
      name: box1
      type: box1
      parent: tray
  boxes_stack:
    -
      name: tray
      type: tray
    -
      name: box1
      type: box1
      parent: tray
    -
      name: box2
      type: box2
      parent: box1
    -
      name: box3
      type: box3
      parent: box2
    -
      name: box4
      type: box4
      parent: box3
  tall:
    -
      name: tray
      type: tray
    -
      name: box
      type: tall_box
      parent: tray

objects:
  # EE is a special object
  ee:
    height: 0.04
    mu: 1.0

  tray:
    shape: cylinder
    mass: 0.5
    mu: 0.5
    height: 0.02
    radius: 0.2
    color: [0, 0, 1, 1]

  cup:
    shape: cylinder
    mass: 0.25
    mu: 0.5
    height: 0.2
    radius: 0.04
    color: [1, 0, 0, 1]

  cup_heavy:
    shape: cylinder
    mass: 1
    mu: 0.5
    height: 0.2
    radius: 0.04
    color: [1, 0, 0, 1]

  box1:
    shape: "cuboid"
    mass: 1
    mu: 0.5
    side_lengths: [0.08, 0.08, 0.15]
    color: [1, 0, 0, 1]

  box2:
    shape: "cuboid"
    mass: 0.5
    mu: 0.5
    side_lengths: [0.08, 0.08, 0.15]
    color: [1, 0, 0, 1]

  box3:
    shape: "cuboid"
    mass: 1
    mu: 0.5
    side_lengths: [0.08, 0.08, 0.15]
    color: [1, 0, 0, 1]

  box4:
    shape: "cuboid"
    mass: 2.0
    mu: 0.5
    side_lengths: [0.08, 0.08, 0.15]
    color: [1, 0, 0, 1]

  tall_box:
    shape: "cuboid"
    mass: 1.0
    mu: 0.5
    side_lengths: [0.08, 0.08, 0.5]
    com_offset: [0, 0, 0]  # offset of CoM from object centroid
    color: [1, 0, 0, 1]

  cylinder_stack_base:
    shape: "cylinder"
    mass: 0.75
    mu: 0.25
    height: 0.1
    radius: 0.15
    color: [0, 0, 1, 1]

  cuboid1_stack:
    shape: "cuboid"
    mass: 0.75
    mu: 0.25
    side_lengths: [0.15, 0.15, 0.15]
    color: [1, 0, 0, 1]

cameras:
  balance_objects:
    relative_target: [0, 0, 0.1]
    relative_position: [0.4, -1, 0.6]
  robot:
    relative_target: [-0.4, 0, -0.3]
    relative_position: [0.5, -2, 0.5]
  dynamic_obstacles1:
    target: [1.28, 0.045, 0.647]
    distance: 1.8
    roll: 0
    pitch: -29
    yaw: 147.6
  dynamic_obstacles2:
    target: [1.28, 0.045, 0.647]
    distance: 2.6
    roll: 0
    pitch: -20.6
    yaw: -3.2
  static_obstacles1:
    target: [2.77, 0.043, 0.142]
    distance: 4.8
    roll: 0
    pitch: -13.4
    yaw: 87.6
  static_obstacles2:
    target: [2.77, 0.043, 0.142]
    distance: 3.4
    roll: 0
    pitch: -23.4
    yaw: 10.0
  static_obstacles3:
    target: [1.66, -0.31, 0.03]
    distance: 3.6
    roll: 0
    pitch: -38.2
    yaw: -39.6
  pose_to_pose1:
    target: [1.28, 0.045, 0.647]
    distance: 4
    roll: 0
    pitch: -35.8
    yaw: 42
  pose_to_pose2:
    target: [1.375, -1.097, 1.039]
    distance: 1.4
    roll: 0
    pitch: -32.2
    yaw: 91.6
